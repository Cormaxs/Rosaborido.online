<form> <label for="archivo">Selecciona un archivo:</label> <input type="file" id="archivo" name="archivo"> <button type="submit">Subir archivo</button> </form> <script> const form = document.querySelector('form'); form.addEventListener('submit', event => { event.preventDefault(); const file = event.target.archivo.files[0]; const formData = new FormData(); formData.append('file', file, file.name); fetch('https://api.github.com/repos/Cormaxs/Rosaborido.online/contents/recetas/' + file.name, { method: 'PUT', headers: { 'Authorization': 'token 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', 'Content-Type': 'application/json' }, body: JSON.stringify({ message: 'Agregando archivo', content: formData.get('file') }) }) .then(response => response.json()) .then(data => { console.log('Respuesta del servidor:', data); }) .catch(error => console.error(error)); }); </script>
